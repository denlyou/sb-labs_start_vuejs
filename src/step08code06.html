<!doctype html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>SB-Labs Vue.js Example</title>
</head>

<body>  
<div id="app">
  <input type="text" v-model.trim='todoTitle' placeholder="할일명(2자이상)" @keydown.enter='addTodo()'>
  <button @click='addTodo()'>추가</button>
  <ul>
    <li v-for=' (todo, key, index) in todoList ' :key='key'>
      <button @click=' remove(index) '>X</button> {{ todo.title }}
    </li>
  </ul>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
const app = new Vue({
  el: "#app",
  data: {
    nextId: 1,
    todoTitle: "",
    todoList: [
      { id: 0, title: "sample data"}
    ]
  },
  methods: {
    addTodo: function(x){
      if( this.todoTitle.length < 2) {
        alert("할일명을 2자 이상 입력하세요");
        return;
      }
      const now = new Date();
      const newTodo = {
        id: this.nextId,
        title: this.todoTitle
      }
      this.todoList.push(newTodo);
      this.nextId++;
      this.todoTitle = "";
    },
    remove: function(index){
      this.todoList.splice(index, 1);
    }
  }
});
</script>
</body>

</html>